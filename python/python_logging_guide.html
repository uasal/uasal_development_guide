

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Python Logging Guide &mdash; uasal_development_guide  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="C++" href="../C%2B%2B/C%2B%2B.html" />
    <link rel="prev" title="UASAL Configuration Management Summary" href="configuration_management.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            uasal_development_guide
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../general.html">General Development Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../git/git.html">Git</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="python.html">Python</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="general.html">General Development Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_package_creation.html">Python Package Creation Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration_management.html">UASAL Configuration Management Summary</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Python Logging Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#basic-usage">Basic Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#intermediate-advanced-usage">Intermediate/Advanced Usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../C%2B%2B/C%2B%2B.html">C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code_storage.html">Code and Analysis Storage</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">uasal_development_guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="python.html">Python</a></li>
      <li class="breadcrumb-item active">Python Logging Guide</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/uasal/uasal_development_guide/blob/main/source/python/python_logging_guide.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="python-logging-guide">
<h1>Python Logging Guide<a class="headerlink" href="#python-logging-guide" title="Link to this heading"></a></h1>
</section>
<section id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h1>
<p>This is an intermediate level guide, written for people who may not have experience in logging, but have some experience with Python, object oriented programming and package development. This guide will discuss the <cite>logger</cite> module in Python specifically, and the suggested practices for implementing logging when developing packages at UASAL.</p>
<p>Users are encouraged to look at the <a class="reference external" href="https://docs.python.org/3/howto/logging.html">Logging HOWTO</a> tutorial on the Python website. If you have already been there and there is way too much information, and you would like a streamlined version of logging for your needs, this guide will reproduce some material from the tutorial, and add additional guidelines and suggestions specifically for UASAL package development.</p>
</section>
<section id="basic-usage">
<h1>Basic Usage<a class="headerlink" href="#basic-usage" title="Link to this heading"></a></h1>
<p>To get started with logging, the user needs to add a logger to their UASAL package/script. This output will go to the terminal. The options to change where the output logs go is discussed further in the <a class="reference external" href="#where-do-the-log-messages-go">Where do the log messages go?</a> Section. The basic logger usage is fairly straightforward and can be seen in the <a class="reference external" href="#basic-logger-code-example">Basic Logger Code</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="c1"># Test log statements</span>
<span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Testing log debugs&quot;</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Testing log warnings&quot;</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Testing log info&quot;</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Testing log errors&quot;</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Testing log criticals&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The workflow is to import a logger, and use the logger to log messages. The logger recognizes the pre defined set of levels, which are also function calls for specific messages.</p>
<section id="why-not-print">
<h2>Why not print?<a class="headerlink" href="#why-not-print" title="Link to this heading"></a></h2>
<p>A really simple question to ask is: <em>Why do I want to use a logger and not simply print statements in my code?</em></p>
<p>This is a reasonable question and the answer depends on your use case. There are logistical and scientific reasons for logging instead of printing. If you are managing a relatively simple script, maybe a print statement is in fact the best way to go. But, if you are working with a complicated package, peppering the code with print statements to debug a problem has three main issues:</p>
<ol class="arabic simple">
<li><p>Cleanup overhead - you probably have to go back and comment out most statements as you will not want them once the code starts to work.</p></li>
<li><p>Lack of context - a print statement does not contain information the originating method, line of code, date, time that triggered it etc, unless explicitly specified.</p></li>
<li><p>Noise when debugging - a large number of print statements is often redundant when debugging, since we are usually interested in the last few statements before something breaks, requiring the user to sift through a number of print statements to identify the important one.</p></li>
</ol>
<p>Loggers are a strong way of circumventing these problems:</p>
<ol class="arabic simple">
<li><p>They support log levels (DEBUG, INFO, WARNING, ERROR, etc.), so you can control the verbosity without modifying your code.</p></li>
<li><p>They can be configured to automatically include timestamps and source information as needed.</p></li>
<li><p>You can direct their output to multiple destinations (console, files, remote systems) and format it consistently.</p></li>
</ol>
<p>Additionally, there is a strong reason from a scientific point of view to use logging as well for transparency, traceability and reproducibility of results. When logs are well-placed and informative they act as a lab-book for the data / results generated by the code.</p>
</section>
<section id="logger-levels">
<h2>Logger Levels<a class="headerlink" href="#logger-levels" title="Link to this heading"></a></h2>
<p>Logger levels essentially quantify “How badly do I, the user, need to know this information?” The levels are numeric values, but are also associated with predefined keywords chosen on the basis of shared practical experience. Here’s the list (Emphasized text is taken verbatim from the logging guide) -</p>
<ol class="arabic simple">
<li><p>Critical (Logger level numeric value - 50) - The user absolutely needs to know about this. <em>A serious error, indicating that the program itself may be unable to continue running</em>.</p></li>
<li><p>Error (Logger level numeric value - 40) - The user should be told about this at runtime. <em>Due to a more serious problem, the software has not been able to perform some function</em>.</p></li>
<li><p>Warning (Logger level numeric value - 30) - This may or may not be something the user needs to know, as the software didn’t break, for now. <em>An indication that something unexpected happened, or indicative of some problem in the near future (e.g. ‘disk space low’). The software is still working as expected</em>.</p></li>
<li><p>Info (Logger level numeric value - 20) - This just gives user regular updates about the software which is running as expected. <em>Confirmation that things are working as expected.</em></p></li>
<li><p>Debug (Logger level numeric value - 10) - Detailed information, which the user almost never wants, and is typically useful for the code maintainers/designers. <em>Detailed information, typically of interest only when diagnosing problems.</em></p></li>
</ol>
<p>A special note on the <cite>log.warning()</cite> keyword. Python has an additional package called <cite>warnings</cite> which also contains the <cite>warnings.warn()</cite> method, utilized frequently by packages. The distinction between the use of these packages is completely dependent on the package designer, BUT it is advisable to follow the following convention: <em>`warnings.warn()` in library code if the issue is avoidable and the client application should be modified to eliminate the warning. A logger’s `log.warning()` method if there is nothing the client application can do about the situation, but the event should still be noted.</em></p>
<p>Now if we go back to our printing problem, we can instead replace them in the code with <cite>logger.debug()</cite> statements instead, which will only be printed when the logger itself is configured to print out debug messages. Once the problem is solved, we can leave the logging code in there, and simply switch the logger to an information only mode. No more commenting back and forth!</p>
</section>
</section>
<section id="intermediate-advanced-usage">
<h1>Intermediate/Advanced Usage<a class="headerlink" href="#intermediate-advanced-usage" title="Link to this heading"></a></h1>
<p>A standard logger workflow is illustrated in the following flowchart -</p>
<p><img alt="image1" src="../_images/logger_workflow.png" /></p>
<p>While convenient to quickly use the logger defined above in a short script, when developing a package, one may find it useful to define a separate logger class to be used by the package with a number of pre-set default values that configure the logger.</p>
<section id="what-is-a-log-handler">
<h2>What is a log handler?<a class="headerlink" href="#what-is-a-log-handler" title="Link to this heading"></a></h2>
<p>A log <cite>handler</cite> is a special method that contains a predefined set of functions to parse the log into various formats. There are a large number of pre defined handlers, some of the more commonly used examples are <a class="reference external" href="https://docs.python.org/3/library/logging.handlers.html#logging.StreamHandler">StreamHandler</a> to manage logs into system streams such as <cite>stdout</cite>, <a class="reference external" href="https://docs.python.org/3/library/logging.handlers.html#logging.FileHandler">FileHandler</a> to handle basic file read/write functions, <a class="reference external" href="https://docs.python.org/3/library/logging.handlers.html#logging.handlers.TimedRotatingFileHandler">TimedRotatingFileHandler</a> a slightly more advanced file handler that periodically rotates/wipes log files and runs maintanence tasks, and lastly, <a class="reference external" href="https://docs.python.org/3/library/logging.handlers.html#logging.NullHandler">NullHandler</a> which does nothing with error messages and is useful when you want to retain your logging architecture and messages, but don’t want to actually log anything, and is also useful in bypassing certain error messages.</p>
<p>Simple example to set up a file handler</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>

<span class="n">fh</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="n">filename</span><span class="o">=&lt;</span><span class="n">LOGFILE_NAME</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">fh</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span> <span class="c1"># Sets the level you want to be recorded within the log file</span>
<span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">fh</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="how-to-format-the-log-messages">
<h2>How to format the log messages?<a class="headerlink" href="#how-to-format-the-log-messages" title="Link to this heading"></a></h2>
<p>Users can format their messages to customize exactly what information is logged and how it is formatted. A basic code snippet for formatting is</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%(levelname)s</span><span class="s1">:</span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
</pre></div>
</div>
<p>The other way is to set the formatter for a specific handler</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="nb">format</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%(asctime)s</span><span class="s2"> - </span><span class="si">%(pathname)s</span><span class="s2">[line:</span><span class="si">%(lineno)d</span><span class="s2">] - </span><span class="si">%(levelname)s</span><span class="s2"> - </span><span class="si">%(message)s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="c1"># Format for log messages</span>
<span class="n">formatter</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="nb">format</span><span class="p">)</span>

<span class="c1">#       To set the format for a specific handler</span>
<span class="n">ch</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">()</span>
<span class="n">ch</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">formatter</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that the <cite>log</cite> we get from the <cite>getLogger</cite> method is the Root logger, and does not have the <cite>setFormatter</cite> method.</p>
<p>The keywords accepted by the log formatter (<cite>levelname</cite>, <cite>message</cite>, etc..) are called the LogRecord attributes and <a class="reference external" href="https://docs.python.org/3/library/logging.html#logrecord-attributes">a complete list of these can be found here</a>.</p>
</section>
<section id="where-do-the-log-messages-go">
<h2>Where do the log messages go?<a class="headerlink" href="#where-do-the-log-messages-go" title="Link to this heading"></a></h2>
<p>This depends on the handler and the general setup. If you boot up a standard Python console, this is the result of the log commands</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Testing log debugs&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Testing log warnings&quot;</span><span class="p">)</span>
<span class="go">Testing log warnings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Testing log info&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Testing log errors&quot;</span><span class="p">)</span>
<span class="go">Testing log errors</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Testing log criticals&quot;</span><span class="p">)</span>
<span class="go">Testing log criticals</span>
</pre></div>
</div>
<p>So the default behavior is to print everything above a warning to screen. If you haven’t configured a FileHandler, none of this gets saved to a log file. You can change the output here by changing the level of your root logger. You can save all of this information to a file by configuring and adding a FileHandler.</p>
</section>
<section id="root-logger-level-handler-level-and-throughput">
<h2>Root Logger Level, Handler Level and throughput<a class="headerlink" href="#root-logger-level-handler-level-and-throughput" title="Link to this heading"></a></h2>
<p>Loggers are effectively a chain of communication. The chain starts with the <cite>logger</cite> object, which then usually hands it off to one of the Handlers, or multiple handlers. The important thing to note is that <em>ALL OF THESE OBJECTS CAN SET THEIR OWN LEVEL</em>. In these circumstances, it is advisable to set the root logger’s default level as Debug, so that all logged messages are passed on to the handlers. The handler levels can then be set to filter out a certain set of messages. For example, in this setup</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">DEFAULT_LEVEL</span><span class="p">)</span> <span class="c1"># Sets the lowest level allowed for all logger handlers</span>
<span class="n">formatter</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="nb">format</span><span class="p">)</span>

<span class="c1"># Setup Handlers -------------------------------------------------</span>
<span class="c1">## Writes to the Stream  / Setup Format</span>
<span class="n">ch</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">()</span>
<span class="n">ch</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">STREAM_LEVEL</span><span class="p">)</span> <span class="c1"># Sets the level you want to be output to the terminal / stream</span>
<span class="n">ch</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">formatter</span><span class="p">)</span>

<span class="c1">## Writes to a log file using FileHandler (basic handler)</span>
<span class="n">fh</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">DEFAULT_LOGFILE</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">fh</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">FILE_LEVEL</span><span class="p">)</span> <span class="c1"># Sets the level you want to be recorded within the log file</span>
<span class="n">fh</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">formatter</span><span class="p">)</span>

<span class="c1"># Add Handlers</span>
<span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">fh</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>
</pre></div>
</div>
<p>We have a <cite>DEFAULT_LEVEL</cite> for the root logger, an <cite>INFO</cite> level for the <cite>StreamHandler</cite>, which outputs logs to the screen, and a <cite>DEBUG</cite> level for the <cite>FileHandler</cite>. Now, as written, all logs will go to the file but only <cite>INFO</cite> and above will be shown on screen. However, in this case if we change the <cite>DEFAULT_LEVEL</cite> to <cite>INFO</cite>, now the root logger no longer accepts/logs <cite>DEBUG</cite> messages, and even though the <cite>FileHandler</cite> is configured to accept <cite>DEBUG</cite> messages, no such messages are coming from Root, and thus no <cite>DEBUG</cite> messages will be seen in the written log!</p>
<p><strong>It is a game of communication, and if we bottleneck an earlier step in the chain to reject a certain level of messages, they will not propagate down the line!</strong></p>
</section>
<section id="guidelines-for-use-of-loggers-in-notebooks-scripts">
<h2>Guidelines for use of loggers in notebooks/scripts<a class="headerlink" href="#guidelines-for-use-of-loggers-in-notebooks-scripts" title="Link to this heading"></a></h2>
<p>Once the loggers have been set up using a dedicated class for the entirety of the package, they can be called individually. For example, if we import <cite>package1</cite> and <cite>package2</cite>, which both have a <cite>.log</cite> attribute, containing a logger object, then individual loggers can be manipulated by calling logging methods for the <cite>package1.log</cite> and <cite>package2.log</cite> objects.</p>
<p>The notebook/script can have its own dedicated logger object, which can be specified in a similar manner to that for the package above by importing a class, or by defining a logger explicitly from within the script/notebook including the corresponding format and handlers.</p>
</section>
<section id="basic-logger-code-example">
<h2>Basic Logger Code Example<a class="headerlink" href="#basic-logger-code-example" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example logger import / setup statements</span>
<span class="c1"># To be added within the script you are running</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">package</span><span class="o">-</span><span class="n">name</span><span class="o">.</span><span class="n">logger</span> <span class="kn">import</span><span class="w"> </span><span class="nn">Logger</span> <span class="c1"># Replace package-name with the python package name</span>

<span class="c1"># Logger setup / call (min setup / uses defaults in logger.py)</span>
<span class="n">log</span> <span class="o">=</span> <span class="n">Logger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="c1"># Logger setup Example w/changes to default values</span>
<span class="c1">## This changes the overall base min level for stream &amp; logging to messages that are</span>
<span class="c1">## at the warning level and above and change the log output file name</span>
<span class="n">log_test</span> <span class="o">=</span> <span class="n">Logger</span><span class="p">(</span><span class="s2">&quot;test-case&quot;</span><span class="p">,</span><span class="n">level</span><span class="o">=</span><span class="s1">&#39;warn&#39;</span><span class="p">,</span><span class="n">log_file</span><span class="o">=</span><span class="s1">&#39;log_test.log&#39;</span><span class="p">)</span>


<span class="c1"># Test log statements --------------------------------------------------------------</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Running logger example with log setup that uses default values from class...&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Should output logs &gt;= info, output to package-name.log for logs &gt;=debug&quot;</span><span class="p">)</span>
<span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Testing log debugs&quot;</span><span class="p">)</span>
<span class="n">log</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Testing log warnings&quot;</span><span class="p">)</span>
<span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Testing log info&quot;</span><span class="p">)</span>
<span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Testing log errors&quot;</span><span class="p">)</span>
<span class="n">log</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Testing log criticals&quot;</span><span class="p">)</span>

<span class="c1"># Test log_test statements</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Running logger example with log_test setup with adjust values from class...&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Messages that are above warn should be shown below and output to log_test.log&quot;</span><span class="p">)</span>
<span class="n">log_test</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Testing log debugs&quot;</span><span class="p">)</span>
<span class="n">log_test</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Testing log warnings&quot;</span><span class="p">)</span>
<span class="n">log_test</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Testing log info&quot;</span><span class="p">)</span>
<span class="n">log_test</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Testing log errors&quot;</span><span class="p">)</span>
<span class="n">log_test</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Testing log criticals&quot;</span><span class="p">)</span>

<span class="c1"># Examples of adjusting levels for logger after initializing -----------------------</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Demonstrating methods for changing file and stream levels for logger...&quot;</span><span class="p">)</span>
<span class="n">log_test</span><span class="o">.</span><span class="n">editFileLevel</span><span class="p">(</span><span class="s1">&#39;crit&#39;</span><span class="p">)</span> <span class="c1"># Change min file level required for outputs</span>
<span class="n">log_test</span><span class="o">.</span><span class="n">editStreamLevel</span><span class="p">(</span><span class="s1">&#39;debug&#39;</span><span class="p">)</span> <span class="c1"># Change min level for recording to stream/console</span>
<span class="c1"># Note: Since the min base level for the same logger was set to a level above the stream level,</span>
<span class="c1"># it will still only show messages that are above the &#39;warn&#39; level for the logger.</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Running logger example with log_test setup w/mid line changes to logger values...&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Console should only show message &gt;=&#39;info&#39; &amp; record to log_test.log at &#39;crit&#39; level&quot;</span><span class="p">)</span>
<span class="n">log_test</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Testing log debugs&quot;</span><span class="p">)</span>
<span class="n">log_test</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Testing log warnings&quot;</span><span class="p">)</span>
<span class="n">log_test</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Testing log info&quot;</span><span class="p">)</span>
<span class="n">log_test</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Testing log errors&quot;</span><span class="p">)</span>
<span class="n">log_test</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s2">&quot;Testing log criticals&quot;</span><span class="p">)</span>

<span class="c1"># Remove log testing statements / only need the import and initial log = Logger(__name__)</span>
<span class="c1"># Other lines are for additional examples / test examples if running with logger.py locally</span>
</pre></div>
</div>
</section>
<section id="custom-logger-class">
<h2>Custom logger class<a class="headerlink" href="#custom-logger-class" title="Link to this heading"></a></h2>
<p>Here we outline the suggested practice if one decides to incorporate a custom logger into a UASAL package. Given your package tree</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>├── docs
├── notebooks
│   ├── sample_notebook.ipynb
├── pyproject.toml
├── README.md
├── src
│   ├── package_name
│   │   ├── source_code.py
│   │   ├── __init__.py
│   │   ├── packaged_directory
│   │   │   └── data.csv
│   │   └── _version.py
└── tests
    └── test.py
</pre></div>
</div>
<p>Create a new file <cite>logger.py</cite> in the <cite>src/package_name</cite> directory. Inside this file, add the following code block.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example Logger Class for Python</span>
<span class="c1"># Refer to https://docs.python.org/3/library/logging.html for more information on loggers</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>

<span class="c1"># Variable defaults for Logger Class</span>
<span class="n">DEFAULT_LOGFILE</span> <span class="o">=</span> <span class="s1">&#39;package-name.log&#39;</span> <span class="c1"># Optional / Use `package-name.log` naming convention when possible</span>
<span class="n">DEFAULT_LEVEL</span> <span class="o">=</span> <span class="s1">&#39;debug&#39;</span> <span class="c1"># Min level for logger to use for log handlers</span>
<span class="n">STREAM_LEVEL</span> <span class="o">=</span> <span class="s1">&#39;info&#39;</span> <span class="c1"># Min Level for the log stream handlers</span>
<span class="n">FILE_LEVEL</span> <span class="o">=</span> <span class="s1">&#39;debug&#39;</span> <span class="c1"># Min level for recording to file</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Logger</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">Logger</span><span class="p">):</span>

        <span class="c1"># Level relations / quicker reference</span>
        <span class="n">levels</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;debug&#39;</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">,</span>
            <span class="s1">&#39;info&#39;</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">,</span>
            <span class="s1">&#39;warn&#39;</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">,</span> <span class="c1"># Supporting user input for old and new format</span>
            <span class="s1">&#39;warning&#39;</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">,</span> <span class="c1"># Supporting user input for old and new format</span>
            <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span>
            <span class="s1">&#39;crit&#39;</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">,</span>
            <span class="s1">&#39;critical&#39;</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">,</span> <span class="c1"># Catching potential user error case</span>
        <span class="p">}</span>

        <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span>
                <span class="n">name</span><span class="p">,</span>
                <span class="n">level</span><span class="o">=</span><span class="n">DEFAULT_LEVEL</span><span class="p">,</span> <span class="c1"># Used to set the base min level for logging</span>
                <span class="n">stream_level</span><span class="o">=</span><span class="n">STREAM_LEVEL</span><span class="p">,</span> <span class="c1"># Level for console reporting</span>
                <span class="n">file_level</span><span class="o">=</span><span class="n">FILE_LEVEL</span><span class="p">,</span> <span class="c1"># Level for printing to log file</span>
                <span class="n">log_file</span><span class="o">=</span><span class="n">DEFAULT_LOGFILE</span><span class="p">,</span> <span class="c1"># Log File output name</span>
                <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%(asctime)s</span><span class="s2"> - </span><span class="si">%(pathname)s</span><span class="s2">[line:</span><span class="si">%(lineno)d</span><span class="s2">] - </span><span class="si">%(levelname)s</span><span class="s2"> - </span><span class="si">%(message)s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="c1"># Format for log messages</span>
        <span class="p">):</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">levels</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">level</span><span class="p">))</span> <span class="c1"># Sets the lowest level allowed for all logger handlers</span>
            <span class="n">formatter</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="nb">format</span><span class="p">)</span>

            <span class="c1"># Setup Handlers -------------------------------------------------</span>
            <span class="c1">## Writes to the Stream  / Setup Format</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ch</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ch</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">levels</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">stream_level</span><span class="p">))</span> <span class="c1"># Sets the level you want to be output to the terminal / stream</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ch</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">formatter</span><span class="p">)</span>

            <span class="c1">## Writes to a log file using FileHandler (basic handler)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fh</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">log_file</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fh</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">levels</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">file_level</span><span class="p">))</span> <span class="c1"># Sets the level you want to be recorded within the log file</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fh</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">formatter</span><span class="p">)</span>

            <span class="c1"># Add Handlers</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fh</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ch</span><span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">editStreamLevel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ch</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">levels</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">level</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Changed stream / console logger level to&#39;</span><span class="p">,</span><span class="n">level</span><span class="p">,</span><span class="s1">&#39;...&#39;</span><span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">editFileLevel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fh</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">levels</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">level</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Changed file / logging level to&#39;</span><span class="p">,</span><span class="n">level</span><span class="p">,</span><span class="s1">&#39;...&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Modify the default parameters to suit the needs of your package. Once this has been added, inside the <cite>source_code.py</cite> file, add</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">logger</span><span class="w"> </span><span class="kn">import</span> <span class="n">logger</span>

<span class="k">class</span><span class="w"> </span><span class="nc">foo</span><span class="p">:</span>
        <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="n">logger</span><span class="p">()</span>
</pre></div>
</div>
<p>When importing a package that implements its own custom logger, the logger is automatically referenced as <cite>foo.log</cite> and all logging methods can be used with this object.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="configuration_management.html" class="btn btn-neutral float-left" title="UASAL Configuration Management Summary" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../C%2B%2B/C%2B%2B.html" class="btn btn-neutral float-right" title="C++" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, UASAL.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>