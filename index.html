<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>UASAL Python Development Guide &#8212; uasal_development_guide  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="uasal-python-development-guide">
<h1>UASAL Python Development Guide<a class="headerlink" href="#uasal-python-development-guide" title="Link to this heading">¶</a></h1>
<p>This guide describes the basic principals how Python software is
structured inside UASAL. Note that much of this stems from the Pearl and
Lazuli projects but is generally applicable across the board.</p>
<section id="general-development-practices">
<h2>General Development Practices<a class="headerlink" href="#general-development-practices" title="Link to this heading">¶</a></h2>
<p>We encourage that all code follows some basic principals: - Assume that
one of your colleagues will be using your code in the near future - Code
should be written as stand-alone tools with minimal dependencies - Tools
should be handed a configuration to be used during execution -
Parameters should not be hard-coded - Configurations, parameters and
procedures required to reproduce results should be documented</p>
</section>
<section id="coding-standards">
<h2>Coding Standards<a class="headerlink" href="#coding-standards" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Avoid hard coding numbers and/or paths wherever possible. If
unavoidable, define them all as constants in one block at the top of
the module (as per
<a class="reference external" href="https://peps.python.org/pep-0008/#constants">PEP8</a>)</p></li>
<li><p>Avoid re-using/clobbering the same variable names in scripts or
example notebooks.</p></li>
<li><p>Avoid copy-pasting code wherever possible. Write a function and call
it again.</p></li>
</ul>
<section id="formatting">
<h3>Formatting<a class="headerlink" href="#formatting" title="Link to this heading">¶</a></h3>
<p>Follow <a class="reference external" href="https://peps.python.org/pep-0008/">PEP8</a> whenever possible.
People have spent years developing (and arguing over) it.</p>
<p>Variables should be <code class="docutils literal notranslate"><span class="pre">snake_case</span></code>. The naming of variables should be
sufficiently long to provide information into the content of the
variable, but not so long as to take a sizable fraction of the line
length. Arrange the variable name to aid in grouping and tab completion
(e.g. <code class="docutils literal notranslate"><span class="pre">inst1_config</span></code> and <code class="docutils literal notranslate"><span class="pre">inst2_config</span></code> should be <code class="docutils literal notranslate"><span class="pre">config_inst1</span></code>
and <code class="docutils literal notranslate"><span class="pre">config_inst2</span></code>)</p>
<p>Autoformatters are your friend: - black - flake8 - ruff</p>
<p>Setting up pre-commit hooks are useful for maintaining readable code and
assisting with evaluating changes in merge requests (called pull
requests in GitHub).</p>
<p>IDEs like VSCode also have plugins that can apply autoformatting on save
(e.g. <a class="reference external" href="https://marketplace.visualstudio.com/items?itemName=charliermarsh.ruff">ruff plugin for
VSCode</a>).</p>
</section>
<section id="comments">
<h3>Comments<a class="headerlink" href="#comments" title="Link to this heading">¶</a></h3>
<p>Comments are useful for your future self and also the next person to use
your code. <a class="reference external" href="https://peps.python.org/pep-0257/">docstrings</a> have been
developed to help with this and can also be automatically parsed to
generate documentation in html format.</p>
<p>Several styles of documenting code are common (e.g. some examples
<a class="reference external" href="https://www.geeksforgeeks.org/python-docstrings/">here</a>). For
consistency across UASAL code, we encourage the use of <a class="reference external" href="https://numpydoc.readthedocs.io/en/latest/format.html">Numpy
style</a>.</p>
<p>Tip: You can ask an online AI model to generate comments/docstrings for
your code and double check the results to save time/effort.</p>
</section>
</section>
<section id="using-ai-in-content-development">
<h2>Using AI in Content Development.<a class="headerlink" href="#using-ai-in-content-development" title="Link to this heading">¶</a></h2>
<p>AI offers interesting applications to increase coding efficiency and
learn new techniques. It also presents significant security risks if
there is export controlled content on the device. For novice programmers
we recommend that AI is not used to generate code as it can develop poor
habits and/or slow down the learning process. However, AI may be useful
for developing initial docstrings or potential unit tests. In all cases,
the content must be thoroughly reviewed by the programmer. To avoid risk
of unintentional sharing data or copyright issues with responses we
recommend copy/pasting into <a class="reference external" href="duck.ai">duck.ai</a> where the data is
anonymous and the prompt and output are owned by user.</p>
<p>Note that all AI generated content should be disclosed in the file
containing the content. This includes the AI system that was used. All
content is subject to the copyrights of the AI provider and must be
explicitly followed.</p>
</section>
<section id="python-packaging">
<h2>Python Packaging<a class="headerlink" href="#python-packaging" title="Link to this heading">¶</a></h2>
<p>Python packages should use a
<a class="reference external" href="https://packaging.python.org/en/latest/guides/writing-pyproject-toml/">pyproject.toml</a>
structure. A template repository (or instructions on how to make one)
are currently being developed.</p>
</section>
<section id="configuration-practices">
<h2>Configuration Practices<a class="headerlink" href="#configuration-practices" title="Link to this heading">¶</a></h2>
<p>Configuration files should be written using one of the standard machine
readable table formats. This mostly includes: - TOML - YAML - CSV</p>
<p>Whether or not configuration files live with the code that uses them is
dependent upon the application. If multiple people are using the tool,
and configurations are being updated independent of the software that
uses them, then they should probably live in a separate repository. An
example configuration repository with details on its usage is available
<a class="reference external" href="https://github.com/uasal/config_tool_template">at this link</a></p>
<section id="summary-of-formats">
<h3>Summary of Formats<a class="headerlink" href="#summary-of-formats" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>TOML is the most-used format in UASAL and MagAOX for its ease of
readability and use. The configuration files for most tools and
calculators utilize TOML.</p></li>
<li><p>YAML is a superset of both TOML and JSON and is best suited for more
complicated and detailed tables. The budgets utilize YAML.</p></li>
<li><p>CSV is what gets exported from Excel and other tools (e.g. Zemax)
which is why it gets significant use. It is machine readable but
requires increased parsing and massaging to be used in code.</p></li>
</ul>
</section>
</section>
<section id="other-notes">
<h2>Other Notes<a class="headerlink" href="#other-notes" title="Link to this heading">¶</a></h2>
<p>Many of these items result from questions or common themes are observed</p>
<ul class="simple">
<li><p>Do not use <a class="reference external" href="https://docs.python.org/3/library/os.html">os</a> package
for path management.
<a class="reference external" href="https://docs.python.org/3/library/pathlib.html">pathlib</a> has
superseded this and offers more functionality.</p></li>
</ul>
</section>
<section id="useful-tools">
<h2>Useful tools<a class="headerlink" href="#useful-tools" title="Link to this heading">¶</a></h2>
<p>Semantic line breaks are useful when writing most documentation
(e.g. Markdown, TeX, rST). Read about them <a class="reference external" href="https://sembr.org/">here</a></p>
</section>
<section id="unit-testing">
<h2>Unit Testing<a class="headerlink" href="#unit-testing" title="Link to this heading">¶</a></h2>
<p>Unit testing and practicing <a class="reference external" href="https://en.wikipedia.org/wiki/Test-driven_development">test-driven
development</a>
is encouraged for multiple reasons. People are encouraged to read up on
the advantages of both.</p>
<p>To date, unit tests have not been widely used but we’re shifting to
include them both as standalone checks and as part of continuous
integration (CI) frameworks.</p>
<p>The <a class="reference external" href="https://docs.python.org/3/library/unittest.html">unittest</a>
standard package is generally used most frequently but others are
available.</p>
<section id="pytest">
<h3>Pytest<a class="headerlink" href="#pytest" title="Link to this heading">¶</a></h3>
<p>The use of <a class="reference external" href="https://docs.pytest.org/en/stable/">pytest</a> offers some
nice conveniences.</p>
<p>Once installed, the following commands are useful:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pytest</span> <span class="pre">-vsx</span></code> - Runs in verbose (v), no-capture standard output (s),
and fail-first (x) mode. This will scan for an run all tests,
outputting print statements to the terminal and will exit as soon as a
test is failed.</p></li>
</ul>
<p>You can add a filename at the end to have only a subset of tests run
such as: -
<code class="docutils literal notranslate"><span class="pre">pytest</span> <span class="pre">-vsx</span> <span class="pre">tests/test_maintel_disable_m1m3_balance_system.py</span></code></p>
<p>Or a specific test via supplying a filename and the regular expression -
<code class="docutils literal notranslate"><span class="pre">pytest</span> <span class="pre">-vsx</span> <span class="pre">tests/test_maintel_disable_m1m3_balance_system.py</span> <span class="pre">-k</span> <span class="pre">test_executable</span></code></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pytest</span> <span class="pre">-vsx</span> <span class="pre">--log-cli-level</span> <span class="pre">DEBUG</span></code> will show log messages in a
pretty format if a logger is being used.</p></li>
</ul>
</section>
</section>
<section id="loggers">
<h2>Loggers<a class="headerlink" href="#loggers" title="Link to this heading">¶</a></h2>
<p>Logging is useful and is more powerful than peppering your code with
print statements. Examples on how to incorporating logging is at <a class="reference external" href="https://docs.python.org/3/howto/logging.html">this
link</a>.</p>
</section>
<section id="debuggers">
<h2>Debuggers<a class="headerlink" href="#debuggers" title="Link to this heading">¶</a></h2>
<p>Debuggers are a useful way of finding and fixing errors and bugs in your
code.</p>
<p><a class="reference external" href="https://docs.python.org/3/library/pdb.html">Pdb</a> comes built-in to
the Python standard library and is a widely used command-line debugger.</p>
<p>An alternative with more GUI integration, is VSCode’s Python Debugger
extension. An example on how to set it up is provided
<a class="reference external" href="https://code.visualstudio.com/docs/python/python-tutorial#_configure-and-run-the-debugger">here</a>.</p>
</section>
<section id="git-lfs">
<h2>Git LFS<a class="headerlink" href="#git-lfs" title="Link to this heading">¶</a></h2>
<p>Git LFS should be used for Large File uploads to git. For further
information, refer to the <a class="reference external" href="https://github.com/uasal/lab_documents/blob/main/computing/Git_LFS_Guide.md">Git LFS
Guide</a>.</p>
<div class="toctree-wrapper compound">
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">uasal_development_guide</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, UASAL.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.1</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>